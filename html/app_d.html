<?xml version="1.0"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>How to Think Like a Computer Scientist: D. Doctests and test driven development</title><link href="stylesheet.css" type="text/css" rel="stylesheet" /></head><body bgcolor="white"><h1 class="title">D. Doctests and test driven development</h1><div class="toc"><ol><li><a href="#auto0">Automated testing with doctest</a></li><li><a href="#auto1">docstrings</a></li><li><a href="#auto2">The doctest module</a></li><li><a href="#auto3">Doctest Exercises</a></li><li><a href="#auto4">Chapter 2</a></li><li><a href="#auto5">Chapter 5</a></li><li><a href="#auto6">Chapter 6</a></li><li><a href="#auto7">Chapter 7</a></li><li><a href="#auto8">Chapter 8</a></li><li><a href="#auto9">Chapter 9</a></li><li><a href="#auto10">Chapter 10</a></li></ol></div><div class="content"><span></span><h2>D.1 Automated testing with <code>doctest</code><a name="auto0"></a></h2><p><code>doctest</code> is a module in the Python standard library which 
makes innovative use of Python's docstring, interactive shell, and
introspection capabilities.
</p><h2>D.2 docstrings<a name="auto1"></a></h2><p>Python's <strong>docstring</strong>s provide an easy way to document
modules, classes, methods, and functions.  A docstring is simply a string
constant that occurs as the first statement of an object's definition.
Here is an example from the chapter on trees illustrating its use:
</p><pre class="python">
<span class="py-src-keyword">def</span> <span class="py-src-identifier">total</span>(<span class="py-src-parameter">tree</span>):
    <span class="py-src-string">&quot;&quot;&quot;total(tree) -&gt; sum

      Return the sum of the values of the elements of a tree of numbers.
    &quot;&quot;&quot;</span>
    <span class="py-src-keyword">if</span> <span class="py-src-variable">tree</span> == <span class="py-src-variable">None</span>: <span class="py-src-keyword">return</span> <span class="py-src-number">0</span>
    <span class="py-src-keyword">return</span> <span class="py-src-variable">total</span>(<span class="py-src-variable">tree</span>.<span class="py-src-variable">left</span>) + <span class="py-src-variable">total</span>(<span class="py-src-variable">tree</span>.<span class="py-src-variable">right</span>)
</pre><p>Assuming the example above is in a module named <code>trees.py</code>,
the following is now possible:</p><pre class="python-shell">
&gt;&gt;&gt; from trees import *
&gt;&gt;&gt; print total.__doc__
total(tree) -&gt; sum

      Return the sum of the values of the elements of a tree of numbers.

</pre><h2>D.3 The <code>doctest</code> module<a name="auto2"></a></h2><p>
The <code>doctest</code> module was added to the 2.3 release of Python.
Created by core python developer Tim Peters, <code>doctest</code> enables
programmers to use docstrings for automated testing.
</p><pre class="python">
<span class="py-src-string">&quot;&quot;&quot;
  &gt;&gt;&gt; distance(1, 2, 4, 6)
  5.0
&quot;&quot;&quot;</span>

<span class="py-src-keyword">def</span> <span class="py-src-identifier">distance</span>(<span class="py-src-parameter">x1</span>, <span class="py-src-parameter">y1</span>, <span class="py-src-parameter">x2</span>, <span class="py-src-parameter">y2</span>):
    <span class="py-src-keyword">return</span> <span class="py-src-number">0.0</span> 

<span class="py-src-keyword">if</span> <span class="py-src-variable">__name__</span> == <span class="py-src-string">&quot;__main__&quot;</span>:
    <span class="py-src-keyword">import</span> <span class="py-src-variable">doctest</span>
    <span class="py-src-variable">doctest</span>.<span class="py-src-variable">testmod</span>()
</pre><p>
The example above is taken from the <em>Program development</em> section of
chapter 5.  Running this program produces the following output:
</p><pre class="shell">
**********************************************************************
File &quot;doctest_example01.py&quot;, line 2, in __main__
Failed example:
    distance(1, 2, 4, 6)
Expected:
    5.0
Got:
    0.0
**********************************************************************
1 items had failures:
   1 of   1 in __main__
***Test Failed*** 1 failures.
</pre><p>
Doctests are written as sample Python interpreter sessions inside a docstring.
The doctest in this example is in the module's docstring, but it could also
be placed in the docstring of the function being tested.
</p><p>
Each test consists of a Python expression written after the interpreter prompt
(<code>&gt;&gt;&gt;</code>) followed on the next line by the expected
evaluation of the given expression.  The doctest module runs each expression
through the interpreter and compares the evaluation with the expected one.
</p><h2>D.4 Doctest Exercises<a name="auto3"></a></h2><p>
In each of the exercises below, write just enough code to make the doctests
pass.
</p><h2>D.5 Chapter 2<a name="auto4"></a></h2><ol><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; n
  17
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; s
  'I am a string!'
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; type(m)
  &lt;type 'float'&gt;
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; type(r)
  &lt;type 'int'&gt;
&quot;&quot;&quot;
</pre></div></li></ol><h2>D.6 Chapter 5<a name="auto5"></a></h2><ol><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; avg(3, 5)
  4.0
  &gt;&gt;&gt; avg(8, 10)
  9.0
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; is_even(8)
  True
  &gt;&gt;&gt; is_even(11)
  False
  &gt;&gt;&gt; is_even(2)
  True
  &gt;&gt;&gt; is_even(5)
  False
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; is_odd(8)
  False
  &gt;&gt;&gt; is_odd(11)
  True
  &gt;&gt;&gt; is_odd(2)
  False
  &gt;&gt;&gt; is_odd(5)
  True
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; double(3)
  6
  &gt;&gt;&gt; double(4.5)
  9.0
  &gt;&gt;&gt; double(&quot;Pizza&quot;)
  'PizzaPizza' 
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; f(0)
  5
  &gt;&gt;&gt; f(1)
  8
  &gt;&gt;&gt; f(2)
  11
  &gt;&gt;&gt; f(3)
  14 
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; g(0)
  -7
  &gt;&gt;&gt; g(1)
  -2
  &gt;&gt;&gt; g(2)
  3
  &gt;&gt;&gt; g(3)
  8
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; str_double(&quot;Python&quot;)
  'Python Python' 
  &gt;&gt;&gt; str_double(5)
  '5 5'
  &gt;&gt;&gt; str_double(None)
  'None None' 
  &gt;&gt;&gt; str_double(True)
  'True True' 
&quot;&quot;&quot;
</pre></div></li></ol><h2>D.7 Chapter 6<a name="auto6"></a></h2><ol><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; is_prime(3)
  True
  &gt;&gt;&gt; is_prime(6)
  False
  &gt;&gt;&gt; is_prime(2)
  True
  &gt;&gt;&gt; is_prime(9)
  False
  &gt;&gt;&gt; is_prime(19)
  True
  &gt;&gt;&gt; is_prime(53)
  True
  &gt;&gt;&gt; is_prime(55)
  False
&quot;&quot;&quot;
</pre></div></li></ol><h2>D.8 Chapter 7<a name="auto7"></a></h2><ol><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; s1[4]
  '3'
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; len(message) 
  15
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; s2[4:]
  'Python!'
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; type(s3)
  &lt;type 'str'&gt;
  &gt;&gt;&gt; s3[3]
  'q'
  &gt;&gt;&gt; s3[7]
  '3'
  &gt;&gt;&gt; len(s3)
  22
  &gt;&gt;&gt; s3[10:16]
  'cheese'
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; s4 + s5
  'happy birthday!'
  &gt;&gt;&gt; s4 &lt; s5
  True
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; count_letters('a', 'banana')
  3 
  &gt;&gt;&gt; count_letters('b', 'banana')
  1 
  &gt;&gt;&gt; count_letters('n', 'banana')
  2
  &gt;&gt;&gt; count_letters('x', 'banana')
  0
  &gt;&gt;&gt; count_letters('i', 'Mississippi')
  4
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; replace('a', 'i', 'banana')
  'binini' 
  &gt;&gt;&gt; replace('i', 'o', 'Mississippi')
  'Mossossoppo'
  &gt;&gt;&gt; replace('a', '', 'banana')
  'bnn'
  &gt;&gt;&gt; replace('a', 'aba', 'banana')
  'babanabanaba'
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; reverse(&quot;Python&quot;)
  'nohtyP'
  &gt;&gt;&gt; reverse(&quot;Try to say this backwards!&quot;)
  '!sdrawkcab siht yas ot yrT'
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; extract_email(&quot;This has bill@gmail.com in it.&quot;)
  'bill@gmail.com'
  &gt;&gt;&gt; extract_email(&quot;Can you find an email address bob@bob.com in this string?&quot;)
  'bob@bob.com'
&quot;&quot;&quot;
</pre></div></li></ol><h2>D.9 Chapter 8<a name="auto8"></a></h2><ol><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; lst1[4]
  3
  &gt;&gt;&gt; lst1[0]
  5
  &gt;&gt;&gt; lst1[2]
  17
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; lst2[1]
  'banana' 
  &gt;&gt;&gt; lst2[0] &lt; lst2[1]
  True 
  &gt;&gt;&gt; lst2[2:]
  ['cherry', 'date', 'elderberry', 'fig', 'grapefruit'] 
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; 43 in lst3
  False 
  &gt;&gt;&gt; 22 in lst3
  True 
  &gt;&gt;&gt; len(lst3)
  5
  &gt;&gt;&gt; lst3[1:3]
  [12, 22]
  &gt;&gt;&gt; lst3[0] &lt; lst3[1]
  True
  &gt;&gt;&gt; lst3[4] &lt; lst3[3]
  False
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; find_sum([3, 1, 1, 0]) 
  5 
  &gt;&gt;&gt; find_sum([1, 2]) 
  3
  &gt;&gt;&gt; find_sum([1, 2, 3, 4, 5, 6]) 
  21 
  &gt;&gt;&gt; find_sum([42]) 
  42
  &gt;&gt;&gt; find_sum([]) 
  0
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; find_max([1, 2, 3, 4]) 
  4
  &gt;&gt;&gt; find_max([4, 3, 2, 1]) 
  4
  &gt;&gt;&gt; find_max([8, 51, 5, 73, 4, 67])
  73
  &gt;&gt;&gt; find_max(['Tsagaank', 'Shitaye', 'Xavier', 'Bao', 'Julia'])
  'Xavier' 
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; only_evens([1, 2, 3, 4, 5, 6, 7, 8])
  [2, 4, 6, 8]
  &gt;&gt;&gt; only_evens([12, 34, 37, 43, 58, 60, 88])
  [12, 34, 58, 60, 88]
  &gt;&gt;&gt; only_evens([12, 34, 36, 44])
  [12, 34, 36, 44]
  &gt;&gt;&gt; only_evens([13, 35, 37, 49])
  []
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; only_odds([1, 2, 3, 4, 5, 6, 7, 8])
  [1, 3, 5, 7]
  &gt;&gt;&gt; only_odds([12, 34, 37, 43, 58, 60, 88])
  [37, 42]
  &gt;&gt;&gt; only_odds([12, 34, 36, 44])
  []
  &gt;&gt;&gt; only_odds([13, 35, 37, 49])
  [13, 35, 37, 49]
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; index_of(12, [4, 8, 12, 16, 20]) 
  2
  &gt;&gt;&gt; index_of(20, [4, 8, 12, 16, 20]) 
  4
  &gt;&gt;&gt; index_of(8, [4, 8, 12, 16, 20]) 
  1
  &gt;&gt;&gt; index_of(9, [4, 8, 12, 16, 20]) 
  -1
  &gt;&gt;&gt; index_of('Bao', ['Tsagaank', 'Shitaye', 'Xavier', 'Bao', 'Julia'])
  3
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; remove_at(0, [5, 4, 3, 2])
  [4, 3, 2] 
  &gt;&gt;&gt; remove_at(2, [5, 4, 3, 2])
  [5, 4, 2] 
  &gt;&gt;&gt; remove_at(4, ['a', 'b', 'c', 'd', 'e', 'f'])
  ['a', 'b', 'c', 'd', 'f']
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; remove_val(3, [5, 4, 3, 2])
  [5, 4, 2]
  &gt;&gt;&gt; remove_val(5, [5, 4, 3, 2])
  [4, 3, 2]
  &gt;&gt;&gt; remove_val('e', ['a', 'b', 'c', 'd', 'e', 'f'])
  ['a', 'b', 'c', 'd', 'f']
  &gt;&gt;&gt; remove_val(6, [5, 4, 3, 2])
  [5, 4, 3, 2]
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; sort_list([3, 7, 1, 8, 2])
  [1, 2, 3, 7, 8]
  &gt;&gt;&gt; sort_list([6, 5, 4, 3, 2, 1])
  [1, 2, 3, 4, 5, 6]
  &gt;&gt;&gt; sort_list(['cherries', 'pears', 'apples', 'bananas', 'apricots'])
  ['apples', 'apricots', 'bananas', 'cherries', 'pears']
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; mean([1, 2])
  1.5
  &gt;&gt;&gt; mean([1, 2, 4, 7])
  3.5
  &gt;&gt;&gt; mean([1, 1, 1, 1, 1])
  1.0
  &gt;&gt;&gt; mean([5, 10, 15, 20, 25])
  15.0
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; median([1, 1, 2, 3, 3])
  2
  &gt;&gt;&gt; median([3, 2, 1, 1, 3])
  2
  &gt;&gt;&gt; median([1, 1, 3, 3])
  2.0
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; mode([1, 2, 2, 3, 4, 5, 6])
  2
  &gt;&gt;&gt; mode([1, 2, 3, 4, 4, 5, 6])
  4
  &gt;&gt;&gt; mode([1, 2, 3, 4, 4, 5, 6, 6, 6, 7])
  6
&quot;&quot;&quot;
</pre></div></li></ol><h2>D.10 Chapter 9<a name="auto9"></a></h2><ol><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; encapsulate(5, ())
  (5, )
  &gt;&gt;&gt; encapsulate(5, [])
  [5]
  &gt;&gt;&gt; encapsulate(5, '')
  '5'
  &gt;&gt;&gt; encapsulate('bob', (1, 2))
  ('bob', )
  &gt;&gt;&gt; encapsulate((1, 2), ['a', 'b', 'c'])
  [(1, 2)]
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; insert_at_end(3, (1, 2))
  (1, 2, 3)
  &gt;&gt;&gt; insert_at_end(3, [1, 2])
  [1, 2, 3]
  &gt;&gt;&gt; insert_at_end(3, 'ab')
  'ab3'
&quot;&quot;&quot;
</pre></div></li><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; insert_in_front('x', 'ab')
  'xab'
  &gt;&gt;&gt; insert_in_front('x', (1, 2))
  ('x', 1, 2)
  &gt;&gt;&gt; insert_in_front('x', [1, 2])
  ['x', 1, 2]
&quot;&quot;&quot;
</pre></div></li></ol><h2>D.11 Chapter 10<a name="auto10"></a></h2><ol><li><div class="exercise"><pre class="python-interpreter">
&quot;&quot;&quot;
  &gt;&gt;&gt; d1 = make_dictionary([('this', 'that')])
  &gt;&gt;&gt; d1
  {'this': 'that'}
  &gt;&gt;&gt; d2 = make_dictionary([('this', 'that'), ('some', 'other'), (4, 'cheese')])
  &gt;&gt;&gt; d2.has_key('some')
  True
  &gt;&gt;&gt; d2.has_key('other')
  False
  &gt;&gt;&gt; d2[4]
  'cheese'
&quot;&quot;&quot;
</pre></div></li><!-- li><div class="exercise">
<pre class="python-interpreter">
"""
  >>> 

"""
</pre>
</div></li>

<li><div class="exercise">
<pre class="python-interpreter">
"""
  >>> 

"""
</pre>
</div></li --></ol></div><p><a href="index.xhtml">Table of Contents</a> |
    <a href="dex.html">Index</a></p></body></html>